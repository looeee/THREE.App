{"version":3,"file":"main.js","sources":["../src/Engine/Core/Core.js","../src/Engine/Camera/OrbitingPerspectiveCamera.js","../src/Engine/Renderer/Renderer.js","../src/Engine/Debug/DebugOverlay.js","../src/Engine/utilities/handleResize.js","../src/Engine/PostRenderer/PostRenderer.js","../src/Engine/Engine.js","../src/AssetManager/ModelLoader.js","../src/AssetManager/AssetManager.js"],"sourcesContent":["import { Clock } from '/node_modules/three/build/three.module.js';\r\n\r\nconst clock = new Clock();\r\n\r\nclass Core {\r\n  constructor() {\r\n    this.objectsToUpdate = [];\r\n  }\r\n\r\n  update(updatables) {\r\n    const delta = clock.getDelta();\r\n    for (const object of updatables) {\r\n      if (typeof object.update === 'function') {\r\n        object.update(delta);\r\n      }\r\n    }\r\n  }\r\n\r\n  render(renderer, scene, camera) {\r\n    renderer.render(scene, camera);\r\n  }\r\n\r\n  start(renderer, scene, camera, updatables) {\r\n    renderer.setAnimationLoop(() => {\r\n      this.update(updatables);\r\n      this.render(renderer, scene, camera);\r\n    });\r\n  }\r\n\r\n  stop(renderer) {\r\n    renderer.setAnimationLoop(null);\r\n  }\r\n}\r\n\r\nexport { Core };\r\n","import {\r\n  PerspectiveCamera,\r\n  Vector3,\r\n  Object3D,\r\n} from '/node_modules/three/build/three.module.js';\r\nimport { OrbitControls } from '/node_modules/three/examples/jsm/controls/OrbitControls.js';\r\n\r\nclass OrbitingPerspectiveCamera extends PerspectiveCamera {\r\n  constructor(container) {\r\n    super(\r\n      35,\r\n      container.clientWidth / container.clientHeight,\r\n      0.1,\r\n      1000,\r\n    );\r\n\r\n    // this.position.set(-50, 100, 250);\r\n    this.position.set(-10, 20, 50);\r\n\r\n    this.setupControls(container);\r\n  }\r\n\r\n  setupControls(container) {\r\n    this.controls = new OrbitControls(this, container);\r\n\r\n    this.controls.enableDamping = true;\r\n  }\r\n\r\n  update(delta) {\r\n    this.controls.update(delta);\r\n  }\r\n\r\n  setTarget(target) {\r\n    if (target.isObject3D) {\r\n      this.controls.target.copy(target.position);\r\n    } else if (target.isVector3) {\r\n      this.controls.target.copy(target);\r\n    }\r\n  }\r\n}\r\n\r\nexport { OrbitingPerspectiveCamera };\r\n","import {\r\n  sRGBEncoding,\r\n  WebGLRenderer,\r\n} from '/node_modules/three/build/three.module.js';\r\n\r\nclass Renderer {\r\n  constructor(container) {\r\n    const renderer = new WebGLRenderer({\r\n      powerPreference: 'high-performance',\r\n      alpha: false,\r\n      antialias: true,\r\n      stencil: false,\r\n    });\r\n\r\n    renderer.setSize(container.clientWidth, container.clientHeight);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n\r\n    renderer.physicallyCorrectLights = true;\r\n\r\n    container.appendChild(renderer.domElement);\r\n\r\n    return renderer;\r\n  }\r\n}\r\n\r\nexport { Renderer };\r\n","class DebugOverlay {\r\n  constructor(spec) {\r\n    this.setupCameraDebugOverlay(spec);\r\n    this.setupEffectsDebugOverlay(spec);\r\n    this.setupLightsDebugOverlay(spec);\r\n    this.setupMaterialsDebugOverlay(spec);\r\n    this.setupRendererDebugOverlay(spec);\r\n  }\r\n\r\n  setupCameraDebugOverlay(spec) {\r\n    if (!spec.camera) return;\r\n  }\r\n\r\n  setupEffectsDebugOverlay(spec) {\r\n    if (!spec.effects) return;\r\n  }\r\n\r\n  setupLightsDebugOverlay(spec) {\r\n    if (!spec.lights) return;\r\n  }\r\n\r\n  setupMaterialsDebugOverlay(spec) {\r\n    if (!spec.materials) return;\r\n  }\r\n\r\n  setupRendererDebugOverlay(spec) {\r\n    if (!spec.renderer) return;\r\n  }\r\n}\r\n\r\nexport { DebugOverlay };\r\n","function onWindowResize(container, camera, renderer) {\r\n  camera.aspect = container.clientWidth / container.clientHeight;\r\n\r\n  camera.updateProjectionMatrix();\r\n\r\n  renderer.setSize(container.clientWidth, container.clientHeight);\r\n  renderer.setPixelRatio(window.devicePixelRatio);\r\n}\r\n\r\nfunction handleWindowResizeEvent(container, camera, renderer) {\r\n  window.addEventListener('resize', () => {\r\n    onWindowResize(container, camera, renderer);\r\n  });\r\n}\r\n\r\nexport { handleWindowResizeEvent };\r\n","import {\r\n  RGBFormat,\r\n  Vector2,\r\n  WebGLMultisampleRenderTarget,\r\n} from '/node_modules//three/build/three.module.js';\r\n\r\nimport { EffectComposer } from '/node_modules/three/examples/jsm/postprocessing/EffectComposer.js';\r\n\r\nimport { RenderPass } from '/node_modules/three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { ShaderPass } from '/node_modules/three/examples/jsm/postprocessing/ShaderPass.js';\r\n\r\nimport { GammaCorrectionShader } from '/node_modules/three/examples/jsm/shaders/GammaCorrectionShader.js';\r\n\r\nimport { SMAAPass } from '/node_modules/three/examples/jsm/postprocessing/SMAAPass.js';\r\n\r\nclass PostRenderer {\r\n  constructor(renderer, scene, camera) {\r\n    this.renderer = renderer;\r\n    this.scene = scene;\r\n    this.camera = camera;\r\n\r\n    this.aaPass = null;\r\n    this.aaPassIndex = -1;\r\n    this.colorPassIndex = -1;\r\n\r\n    const size = this.renderer.getDrawingBufferSize(new Vector2());\r\n\r\n    this.createComposer(size);\r\n    this.createBasePass();\r\n    this.createColorPass();\r\n    this.createAAPass(size);\r\n\r\n    console.log(this);\r\n  }\r\n\r\n  createComposer(size) {\r\n    let renderTarget;\r\n    if (this.renderer.capabilities.isWebGL2) {\r\n      const parameters = {\r\n        format: RGBFormat,\r\n        stencilBuffer: false,\r\n      };\r\n\r\n      renderTarget = new WebGLMultisampleRenderTarget(\r\n        size.width,\r\n        size.height,\r\n        parameters,\r\n      );\r\n\r\n      renderTarget.samples = 8;\r\n    }\r\n\r\n    this.composer = new EffectComposer(this.renderer, renderTarget);\r\n  }\r\n\r\n  createBasePass() {\r\n    const basePass = new RenderPass(this.scene, this.camera);\r\n    basePass.name = 'Initial Render Pass';\r\n    this.composer.addPass(basePass);\r\n  }\r\n\r\n  createColorPass() {\r\n    this.colorPass = new ShaderPass(GammaCorrectionShader);\r\n    this.colorPass.name = 'Linear to sRGB Pass';\r\n    this.composer.addPass(this.colorPass);\r\n    this.colorPassIndex = this.composer.passes.indexOf(\r\n      this.colorPass,\r\n    );\r\n  }\r\n\r\n  createAAPass(size) {\r\n    if (this.renderer.capabilities.isWebGL2) return;\r\n    this.aaPass = new SMAAPass(size.x, size.y);\r\n    this.aaPass.name = 'SMAA Pass';\r\n    this.composer.addPass(this.colorPass);\r\n    this.aaPassIndex = this.composer.passes.indexOf(this.aaPass);\r\n  }\r\n\r\n  render() {\r\n    this.composer.render();\r\n  }\r\n\r\n  setSize(width, height) {\r\n    this.renderer.setSize(width, height);\r\n    this.composer.setSize(width, height);\r\n  }\r\n\r\n  setPixelRatio(pixelRatio) {\r\n    this.composer.setPixelRatio(pixelRatio);\r\n  }\r\n\r\n  // details =\r\n  // {\r\n  //   effect,\r\n  //   position: 'beforeColor' (default), 'afterColor', 'beforeAA', 'afterAA', index (int)\r\n  // }\r\n  addEffect(details) {\r\n    if (typeof details.position === 'number') {\r\n      this.insertPass(details.effect, details.position + 1);\r\n      return;\r\n    }\r\n    // TODO: test these\r\n    switch (details.position) {\r\n      case 'afterAA':\r\n        this.insertPass(\r\n          details.effect,\r\n          this.composer.passes.length - 1,\r\n        );\r\n        break;\r\n      case 'beforeAA':\r\n        this.insertPass(details.effect, this.aaPassIndex);\r\n        break;\r\n      case 'afterColor':\r\n        this.insertPass(details.effect, this.colorPassIndex + 1);\r\n        break;\r\n      case 'beforeColor':\r\n      default:\r\n        this.insertPass(details.effect, this.colorPassIndex);\r\n        break;\r\n    }\r\n\r\n    this.colorPassIndex = this.composer.passes.indexOf(\r\n      this.colorPass,\r\n    );\r\n    this.colorPassIndex = this.composer.passes.indexOf(\r\n      this.colorPass,\r\n    );\r\n  }\r\n\r\n  insertPass(pass, index) {\r\n    if (this.composer.passes.length < index) {\r\n      console.error('Cannot place Effect at that position');\r\n    } else {\r\n      this.composer.insertPass(pass, index);\r\n    }\r\n  }\r\n\r\n  setAnimationLoop(callback) {\r\n    this.renderer.setAnimationLoop(callback);\r\n  }\r\n}\r\n\r\nexport { PostRenderer };\r\n","import { Core } from './Core/Core.js';\r\nimport { OrbitingPerspectiveCamera } from './Camera/OrbitingPerspectiveCamera.js';\r\nimport { Renderer } from './Renderer/Renderer.js';\r\n// import { ColorManager } from './Color/ColorManager.js';\r\nimport { DebugOverlay } from './Debug/DebugOverlay.js';\r\n// import { PostEffects } from './Effects/PostEffects.js';\r\nimport { handleWindowResizeEvent } from './utilities/handleResize.js';\r\n\r\nimport { Scene } from '/node_modules/three/build/three.module.js';\r\nimport { PostRenderer } from './PostRenderer/PostRenderer.js';\r\n\r\nlet usingPostRenderer = false;\r\n\r\nclass Engine {\r\n  constructor(container, debug = false) {\r\n    this.camera = new OrbitingPerspectiveCamera(container);\r\n    this.renderer = new Renderer(container);\r\n    this.scene = new Scene();\r\n\r\n    this.core = new Core(container);\r\n\r\n    // this array contains objects with an update\r\n    // method that will run once per frame\r\n    this.updatables = [this.camera];\r\n\r\n    handleWindowResizeEvent(container, this.camera, this.renderer);\r\n\r\n    if (debug) this.setupDebugOverlay();\r\n  }\r\n\r\n  addRenderableObject(object, updatable = false) {\r\n    this.scene.add(object);\r\n\r\n    if (updatable) {\r\n      this.updatables.push(object);\r\n    }\r\n  }\r\n\r\n  // Automatically switch to post renderer when effects are added\r\n  // To force this to happen early,\r\n  // e.g. to prevent shader recompilation when adding passes later,\r\n  // pass an empty array to this function\r\n  addEffects(effects) {\r\n    if (usingPostRenderer === false) {\r\n      this.renderer = new PostRenderer(\r\n        this.renderer,\r\n        this.scene,\r\n        this.camera,\r\n      );\r\n\r\n      usingPostRenderer = true;\r\n    }\r\n\r\n    for (const effect of effects) {\r\n      this.renderer.addEffect(effect);\r\n    }\r\n  }\r\n\r\n  start() {\r\n    this.core.start(\r\n      this.renderer,\r\n      this.scene,\r\n      this.camera,\r\n      this.updatables,\r\n    );\r\n  }\r\n\r\n  stop() {\r\n    this.core.stop(this.renderer);\r\n  }\r\n\r\n  setupDebugOverlay() {\r\n    const overlay = new DebugOverlay({\r\n      camera: null,\r\n      effects: null,\r\n      lights: null,\r\n      materials: null,\r\n      renderer: null,\r\n    });\r\n  }\r\n}\r\n\r\nexport { Engine };\r\n","import { GLTFLoader } from '/node_modules/three/examples/jsm/loaders/GLTFLoader.js';\r\n\r\nclass ModelLoader {\r\n  constructor() {\r\n    this.loader = new GLTFLoader();\r\n  }\r\n\r\n  load(url) {\r\n    return new Promise((resolve, reject) => {\r\n      this.loader.load(\r\n        url,\r\n        gltfData => resolve(gltfData),\r\n        null,\r\n        reject,\r\n      );\r\n    });\r\n  }\r\n\r\n  startLoadingModels(manifest) {\r\n    // create copy of the manifest which maps names to URLS\r\n    // once the models have loaded we'll switch the URLS\r\n    // for the loaded data\r\n    this.models = { ...manifest.models };\r\n\r\n    const urls = Object.values(manifest.models);\r\n    this.promises = urls.map(url =>\r\n      this.load(url).catch(errorData => {\r\n        return {\r\n          status: 'failed',\r\n          errorData,\r\n        };\r\n      }),\r\n    );\r\n  }\r\n\r\n  async finishLoadingModel() {\r\n    const modelData = await Promise.all(this.promises);\r\n\r\n    for (const [index, name] of Object.keys(this.models).entries()) {\r\n      this.models[name] = modelData[index];\r\n    }\r\n\r\n    return this.models;\r\n  }\r\n}\r\n\r\nexport { ModelLoader };\r\n","import { ModelLoader } from './ModelLoader.js';\r\n\r\nclass AssetManager {\r\n  constructor() {\r\n    this.assets = {\r\n      models: {},\r\n      textures: {},\r\n    };\r\n  }\r\n\r\n  async loadManifest() {\r\n    return (await fetch('/config/assets.manifest.json')).json();\r\n  }\r\n\r\n  async loadAssets() {\r\n    this.manifest = await this.loadManifest();\r\n\r\n    this.loadModels();\r\n    this.loadTextures();\r\n\r\n    await this.finishLoading();\r\n\r\n    return this.assets;\r\n  }\r\n\r\n  loadModels() {\r\n    if (!this.manifest.models) return;\r\n\r\n    this.modelLoader = new ModelLoader();\r\n\r\n    this.modelLoader.startLoadingModels(this.manifest);\r\n  }\r\n\r\n  loadTextures() {\r\n    // if (!this.manifest.textures) return;\r\n    // TODO\r\n  }\r\n\r\n  async finishLoading() {\r\n    this.assets.models = await this.modelLoader.finishLoadingModel();\r\n  }\r\n}\r\n\r\nexport { AssetManager };\r\n"],"names":[],"mappings":"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"}